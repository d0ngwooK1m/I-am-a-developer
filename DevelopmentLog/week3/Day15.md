# 항해 15일차

## 오늘 할 일
1. 수정하기 기능
2. 무한 스크롤 기능
3. 로딩 스피너
4. 배운 것 글로 정리

## 배운 것  
* 버튼 메인페이지에서만 보이게 하기  
    현재 url위치 추적 시 useHistory 보다 useLocation 활용, useHistory는 페이지 변경 시 바로 적용되지 않음 

* 의존성 배열
    App.js에서 React.useEffect Hooks에서 뒤에 배열을 두는데, 아마 어디에 의존할 것인지(어디를 봐야하는지?) 지정해주는 배열 인듯하다. 없어도 작동하는 것으로 보아 특수한 경우에 사용하는 듯. dispatch를 넣어뒀는데 큰 변화는 없다.

* 상세보기(useParams)
    새로고침하면 정보를 못 읽어온다! 아마 정보가 뿌려지기 전에 먼저 읽어오려다 생긴 오류인듯... is_loaded로 해결해볼까?  
    오! is_loaded로 해결되었다! 이건 파이어 스토어에 올리지 말고 local에서만 사용해도 충분한 듯 하다.

* 파이어스토어 => 리덕스 이동 시 id 추가
    word.id로 접근할 수 있다. forEach()로 새 배열 만들어 줄 때 같이 값으로 넣어주면 된다.

* 개별 정보에 접근하는 방법
    파이어스토어 => 리덕스로 정보를 불러 initialState로 저장할 때 id도 같이 정리, 수정 및 삭제할 때 id를 담아서 보낸다. 그 후 일치하는 정보 찾을 때 id로 찾게 한다.

* 데이터베이스 업데이트 시
    collection이 아니라 doc으로 개별문서를 찾아야 한다.

* 수정기능 완성
    생각보다 고려할 것이 많은 기능이었다. 핵심은 불러올 때 id도 같이 불러와야하고, 수정할 때는 리듀서에서 처리해주어야 한다. 그리고 수정 값을 넣지 않았을 때 기본 값으로 들어가게끔 해야한다.

* 이벤트 전파(버블링)
    삭제버튼을 클릭하면 상세보기 페이지로 넘어가는 문제가 있었다.
    e.prePropagation() 함수를 통하여 지금 실행하는 함수만 작동하도록 하였다.

* 무한스크롤 (포기)
    hooks를 직접 만들어서 쓰는 것 같은데 파고들면 시간이 너무 오래 걸릴 것 같아서 과감하게 포기하고 새로운 프로젝트를 만들어봐야겠다.

## 일기
😎😥🥱😤